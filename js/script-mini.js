var linkPopap=document.querySelector(".link-popap"),popupLogin=document.querySelector(".modal"),closeLogin=popupLogin.querySelector(".close-popap"),popupMap=document.querySelector(".map-modal"),linkMap=document.querySelector(".link-map"),closeMap=popupMap.querySelector(".close-map"),form=popupLogin.querySelector(".modal-form"),inputName=popupLogin.querySelector(".input-name"),email=popupLogin.querySelector(".input-email"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("inputName")}catch(e){isStorageSupport=!1}linkPopap.addEventListener("click",function(e){e.preventDefault(),popupLogin.classList.add("modal-on"),storage?(inputName.value=storage,email.focus(),email.classList.add("modal-input-required")):(inputName.focus(),inputName.classList.add("modal-input-required"))}),closeLogin.addEventListener("click",function(e){e.preventDefault(),popupLogin.classList.remove("modal-on")}),linkMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.add("map-modal-on")}),closeMap.addEventListener("click",function(e){e.preventDefault(),popupMap.classList.remove("map-modal-on")}),form.addEventListener("submit",function(e){inputName.value&&email.value?isStorageSupport&&localStorage.setItem("inputName",inputName.value):(e.preventDefault(),popupLogin.classList.remove("modal-error"),popupLogin.offsetWidth=popupLogin.offsetWidth,popupLogin.classList.add("modal-error"))});